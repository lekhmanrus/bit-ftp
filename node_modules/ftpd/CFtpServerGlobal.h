#ifndef WIN32
	#define SOCKET_ERROR	-1
	#define INVALID_SOCKET	-1
	#define MAX_PATH PATH_MAX
	#ifndef O_BINARY
		#define O_BINARY	0
	#endif
	#define CloseSocket(x)	(shutdown((x), SHUT_RDWR), close(x))
#else
	#define	open	_open
	#define	close	_close
	#define	read	_read
	#define	write	_write
	#define eof		_eof
	#define O_WRONLY	_O_WRONLY
	#define O_CREAT		_O_CREAT
	#define O_APPEND	_O_APPEND
	#define O_BINARY	_O_BINARY
	#define O_TRUNC		_O_TRUNC
	#ifndef __USE_FILE_OFFSET64
		#define	stat	_stat
		#define	lseek	_lseek
	#else
		#define	stat	_stati64
		#define	lseek	_lseeki64
		#define atoll	_atoi64
		#define _findfirst	_findfirsti64
		#define _findnext	_findnexti64
		#define _finddata_t	_finddatai64_t
	#endif
	typedef int socklen_t;
	#define snprintf		_snprintf
	#define vsnprintf		_vsnprintf
	#define strcasecmp		_stricmp
	#define strncasecmp		_strnicmp
	#ifndef S_ISDIR
		#define	S_ISDIR(m)	(((m) & S_IFMT) == S_IFDIR)
	#endif
	#ifndef S_ISREG
		#define	S_ISREG(m)	(((m) & S_IFMT) == S_IFREG)
	#endif
	#define CloseSocket(x)	(shutdown((x), SD_BOTH ), closesocket(x))
#endif

#ifndef MSG_NOSIGNAL
	#ifdef SO_NOSIGPIPE
		#define MSG_NOSIGNAL	SO_NOSIGPIPE
	#else
		#define MSG_NOSIGNAL	0
	#endif
#endif

// Internal settings. Do not modify!
#define CFTPSERVER_REPLY_MAX_LEN		(MAX_PATH + 64)
#define CFTPSERVER_LIST_MAX_LINE_LEN	(MAX_PATH + 57)